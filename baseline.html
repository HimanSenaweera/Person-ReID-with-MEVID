<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Baseline Performance</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial,
          sans-serif;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        padding: 20px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        padding: 30px;
      }
      h1 {
        text-align: center;
        color: #1e293b;
        margin-bottom: 10px;
        font-size: 28px;
      }
      .subtitle {
        text-align: center;
        color: #64748b;
        margin-bottom: 30px;
        font-size: 14px;
      }
      .button-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
        gap: 10px;
        margin-bottom: 30px;
      }
      .method-btn {
        padding: 12px 16px;
        border: none;
        border-radius: 8px;
        font-weight: 600;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.3s;
        background: #f1f5f9;
        color: #475569;
      }
      .method-btn:hover {
        background: #e2e8f0;
      }
      .method-btn.active {
        background: #2563eb;
        color: #fff;
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
      }
      .chart-container {
        position: relative;
        height: 500px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Baseline Performance</h1>
      <p class="subtitle">
        Select a method to compare <b>Paper Results</b> vs <b>Our Results</b>
      </p>

      <div class="button-grid" id="methodButtons"></div>

      <div class="chart-container">
        <canvas id="myChart"></canvas>
      </div>
    </div>

    <script>
      // Exact values transcribed from the provided image
      const allData = {
        CAL: {
          paper: {
            mAP: 27.1,
            "Top-1": 52.5,
            "Top-5": 66.5,
            "Top-10": 73.7,
            "Top-20": 80.7,
          },
          ours: {
            mAP: 27.0,
            "Top-1": 52.5,
            "Top-5": 66.8,
            "Top-10": 72.8,
            "Top-20": 80.7,
          },
        },
        AGRL: {
          paper: {
            mAP: 19.1,
            "Top-1": 52.5,
            "Top-5": 62.7,
            "Top-10": 70.6,
            "Top-20": 77.9,
          },
          ours: {
            mAP: 18.9,
            "Top-1": 48.4,
            "Top-5": 62.3,
            "Top-10": 69.9,
            "Top-20": 78.2,
          },
        },
        "Bicnet-TKS": {
          paper: {
            mAP: 6.3,
            "Top-1": 19.0,
            "Top-5": 35.1,
            "Top-10": 40.5,
            "Top-20": 52.9,
          },
          ours: {
            mAP: 6.3,
            "Top-1": 19.0,
            "Top-5": 35.4,
            "Top-10": 40.5,
            "Top-20": 52.9,
          },
        },
        TCLNet: {
          paper: {
            mAP: 23.0,
            "Top-1": 48.1,
            "Top-5": 60.1,
            "Top-10": 69.0,
            "Top-20": 76.3,
          },
          ours: {
            mAP: 16.7,
            "Top-1": 36.7,
            "Top-5": 51.6,
            "Top-10": 58.9,
            "Top-20": 65.5,
          },
        },
        PSTA: {
          paper: {
            mAP: 21.2,
            "Top-1": 46.2,
            "Top-5": 60.8,
            "Top-10": 69.6,
            "Top-20": 77.8,
          },
          ours: {
            mAP: 21.1,
            "Top-1": 45.6,
            "Top-5": 61.4,
            "Top-10": 69.3,
            "Top-20": 78.8,
          },
        },
        PiT: {
          paper: {
            mAP: 13.6,
            "Top-1": 34.2,
            "Top-5": 55.4,
            "Top-10": 63.3,
            "Top-20": 70.6,
          },
          ours: {
            mAP: 13.4,
            "Top-1": 34.5,
            "Top-5": 55.4,
            "Top-10": 62.7,
            "Top-20": 70.6,
          },
        },
        STMN: {
          paper: {
            mAP: 11.3,
            "Top-1": 31.0,
            "Top-5": 54.4,
            "Top-10": 65.5,
            "Top-20": 72.5,
          },
          ours: {
            mAP: 11.3,
            "Top-1": 30.4,
            "Top-5": 54.4,
            "Top-10": 65.2,
            "Top-20": 71.8,
          },
        },
        "Attn-CL": {
          paper: {
            mAP: 18.6,
            "Top-1": 42.1,
            "Top-5": 56.0,
            "Top-10": 63.0,
            "Top-20": 71.3,
          },
          ours: {
            mAP: 16.0,
            "Top-1": 43.0,
            "Top-5": 64.2,
            "Top-10": 68.4,
            "Top-20": 75.0,
          },
        },
        "Attn-CL+rerank": {
          paper: {
            mAP: 25.9,
            "Top-1": 46.5,
            "Top-5": 59.8,
            "Top-10": 64.6,
            "Top-20": 71.8,
          },
          ours: {
            mAP: 22.1,
            "Top-1": 50.0,
            "Top-5": 64.2,
            "Top-10": 67.7,
            "Top-20": 71.8,
          },
        },
        AP3D: {
          paper: {
            mAP: 15.9,
            "Top-1": 39.6,
            "Top-5": 56.0,
            "Top-10": 63.3,
            "Top-20": 76.3,
          },
          ours: {
            mAP: 38.4,
            "Top-1": 48.6,
            "Top-5": 62.2,
            "Top-10": 73.0,
            "Top-20": 77.0,
          },
        },
      };

      let currentChart = null;
      let selectedMethod = "CAL";

      function createButtons() {
        const container = document.getElementById("methodButtons");
        Object.keys(allData).forEach((method) => {
          const btn = document.createElement("button");
          btn.className =
            "method-btn" + (method === selectedMethod ? " active" : "");
          btn.textContent = method;
          btn.onclick = () => selectMethod(method);
          container.appendChild(btn);
        });
      }

      function selectMethod(method) {
        selectedMethod = method;
        document.querySelectorAll(".method-btn").forEach((btn) => {
          btn.classList.toggle("active", btn.textContent === method);
        });
        updateChart();
      }

      function updateChart() {
        const data = allData[selectedMethod];
        const metrics = ["mAP", "Top-1", "Top-5", "Top-10", "Top-20"];

        const chartData = {
          labels: metrics,
          datasets: [
            {
              label: "Paper",
              data: metrics.map((m) => data.paper[m]),
              backgroundColor: "rgba(59,130,246,0.85)",
              borderColor: "rgb(59,130,246)",
              borderWidth: 2,
              borderRadius: 6,
            },
            {
              label: "Ours",
              data: metrics.map((m) => data.ours[m]),
              backgroundColor: "rgba(249,115,22,0.85)",
              borderColor: "rgb(249,115,22)",
              borderWidth: 2,
              borderRadius: 6,
            },
          ],
        };

        if (currentChart) currentChart.destroy();

        const ctx = document.getElementById("myChart").getContext("2d");
        currentChart = new Chart(ctx, {
          type: "bar",
          data: chartData,
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: true,
                position: "top",
                labels: { font: { size: 15, weight: "bold" }, padding: 15 },
              },
              datalabels: {
                anchor: "end",
                align: "top",
                formatter: (v) => v,
                font: { weight: "bold", size: 12 },
                color: (ctx) =>
                  ctx.datasetIndex === 0 ? "#1e40af" : "#c2410c",
              },
              tooltip: { enabled: true },
            },
            scales: {
              y: {
                beginAtZero: true,
                max: 85,
                title: {
                  display: true,
                  text: "Performance (%)",
                  font: { size: 15, weight: "bold" },
                },
                ticks: { font: { size: 12 } },
              },
              x: { ticks: { font: { size: 13, weight: "600" } } },
            },
          },
          plugins: [ChartDataLabels],
        });
      }

      // Initialize
      createButtons();
      updateChart();
    </script>
  </body>
</html>
